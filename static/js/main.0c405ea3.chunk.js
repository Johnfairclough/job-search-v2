(this["webpackJsonpjob-search"]=this["webpackJsonpjob-search"]||[]).push([[0],{12:function(n,e,t){},13:function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),c=t(3),r=t.n(c),i=(t(12),t(4)),s=t(5),u=t(1),l=t(6),d=new(function(){function n(e,t,a){Object(i.a)(this,n),this.searchForm=document.querySelector(e),this.resultsContainer=document.querySelector(t),this.loadingElement=document.querySelector(a)}return Object(s.a)(n,[{key:"setCountryCode",value:function(){var n=this;this.countryCode="gb",this.setCurrencySymbol(),fetch("http://ip-api.com/json").then((function(n){return n.json()})).then((function(e){n.countryCode=e.countryCode.toLowerCase(),n.setCurrencySymbol()}))}},{key:"setCurrencySymbol",value:function(){this.currencySymbol={gb:"\xa3",us:"$",au:"$",ca:"$"}[this.countryCode]}},{key:"configureFormListener",value:function(){var n=this;this.searchForm.addEventListener("submit",(function(e){e.preventDefault(),n.resultsContainer.innerHTML="";var t,a=(t=n.searchForm,Array.from(t.elements).reduce((function(n,e){var t=e.id,a=e.value;return Object(l.a)(Object(u.a)({},t,a),n)}),{})),o=a.search,c=a.location,r=a.distance,i=a.min,s=a.max;n.startLoading(),fetch("https://api.adzuna.com/v1/api/jobs/gb/search/2?app_id=fe8c748e&app_key=20c3e73a59479724e90591efe9cdfa7d&results_per_page=10000&what=".concat(o,"&where=").concat(c,"&distance=").concat(r,"&sort_by=salary&salary_min=").concat(i,"&salary_max=").concat(s)).then((function(n){return n.json()})).then((function(e){var t=e.results;return n.stopLoading(),t.map((function(e){return function(n,e){return'\n  <div class="card">\n  <h4 class="animated fadeIn job-title">'.concat(n.title," up to ").concat(e).concat(n.salary_max,'</h4>\n  <p class="animated fadeIn company">').concat(n.company.display_name,'</p>\n  <h5 class="animated fadeIn job-location">').concat(n.location.display_name,'</h5>\n  <p class="animated fadeIn job-description">').concat(n.description,'</p>\n  <a class="animated fadeIn view-job" href="').concat(n.redirect_url,'" target="_blank">View Job</a>\n  \n  <button class="top" onclick=\'window.scrollTo({top: 0, behavior: "smooth"});\'>Jump to the top</button>\n  </div>\n')}(e,n.currencySymbol)})).join("")})).then((function(e){return n.resultsContainer.innerHTML=e})).catch((function(){return n.stopLoading()}))}))}},{key:"startLoading",value:function(){this.loadingElement.classList.add("loading")}},{key:"stopLoading",value:function(){this.loadingElement.classList.remove("loading")}}]),n}())("#search-form",".result-container",".loading-element");d.setCountryCode(),d.configureFormListener();var m=function(){return o.a.createElement("div",{className:"App"})};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m,null)),document.getElementById("root"))},7:function(n,e,t){n.exports=t(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.0c405ea3.chunk.js.map