{"version":3,"sources":["App.js","JobSearch.js","Utils.js","Templates.js","index.js"],"names":["jobSearch","searchFormSelector","resultsContainerSelector","loadingElementSelector","this","searchForm","document","querySelector","resultsContainer","loadingElement","countryCode","setCurrencySymbol","fetch","then","results","json","toLowerCase","currencySymbol","gb","us","au","ca","addEventListener","event","preventDefault","innerHTML","form","Array","from","elements","reduce","acc","id","value","search","location","distance","min","max","startLoading","response","stopLoading","map","job","currency","title","salary_max","company","display_name","description","redirect_url","jobTemplate","join","jobs","catch","classList","add","remove","setCountryCode","configureFormListener","App","className","ReactDOM","render","StrictMode","getElementById"],"mappings":"mNAIMA,EAAY,ICAlB,WAEE,WAAYC,EAAoBC,EAA0BC,GAAyB,oBACjFC,KAAKC,WAAaC,SAASC,cAAcN,GACzCG,KAAKI,iBAAmBF,SAASC,cAAcL,GAC/CE,KAAKK,eAAiBH,SAASC,cAAcJ,GALjD,6DAQoB,IAAD,OACfC,KAAKM,YAAc,KACnBN,KAAKO,oBAELC,MAAM,0BACHC,MAAK,SAAAC,GAAO,OAAIA,EAAQC,UACxBF,MAAK,SAAAC,GACJ,EAAKJ,YAAcI,EAAQJ,YAAYM,cACvC,EAAKL,yBAhBb,0CAqBIP,KAAKa,eCpBc,CACfC,GAAI,OACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KDgBgCjB,KAAKM,eArBjD,8CAwB2B,IAAD,OACtBN,KAAKC,WAAWiB,iBAAiB,UAAU,SAACC,GAC5CA,EAAMC,iBACN,EAAKhB,iBAAiBiB,UAAY,GAFoB,IC7B3BC,ED6B2B,GC7B3BA,EDgCsC,EAAKrB,WChCnCsB,MAClCC,KAAKF,EAAKG,UACVC,QAAO,SAACC,EAAD,OAAQC,EAAR,EAAQA,GAAIC,EAAZ,EAAYA,MAAZ,mBAAC,eAA2BD,EAAKC,GAAUF,KAAQ,KD8BnDG,EAH8C,EAG9CA,OAAQC,EAHsC,EAGtCA,SAAUC,EAH4B,EAG5BA,SAAUC,EAHkB,EAGlBA,IAAKC,EAHa,EAGbA,IAEzC,EAAKC,eACL3B,MAAM,uIAAD,OAAwIsB,EAAxI,kBAAwJC,EAAxJ,qBAA6KC,EAA7K,sCAAmNC,EAAnN,uBAAqOC,IACvOzB,MAAK,SAAA2B,GAAQ,OAAIA,EAASzB,UAC1BF,MAAK,YAAkB,IAAfC,EAAc,EAAdA,QAEP,OADA,EAAK2B,cACE3B,EACJ4B,KAAI,SAAAC,GAAG,OExCS,SAACA,EAAKC,GAAN,gFAEeD,EAAIE,MAFnB,kBAEkCD,GAFlC,OAE6CD,EAAIG,WAFjD,uDAGYH,EAAII,QAAQC,aAHxB,4DAIkBL,EAAIR,SAASa,aAJ/B,+DAKoBL,EAAIM,YALxB,6DAMmBN,EAAIO,aANvB,6JFwCLC,CAAYR,EAAK,EAAK1B,mBACjCmC,KAAK,OAETvC,MAAK,SAAAwC,GAAI,OAAI,EAAK7C,iBAAiBiB,UAAY4B,KAC/CC,OAAM,kBAAM,EAAKb,sBAxCxB,qCA6CIrC,KAAKK,eAAe8C,UAAUC,IAAI,aA7CtC,oCAiDIpD,KAAKK,eAAe8C,UAAUE,OAAO,eAjDzC,KDAkB,CAChB,eACA,oBACA,oBAEFzD,EAAU0D,iBACV1D,EAAU2D,wBAMKC,MAJf,WACE,OAAO,yBAAKC,UAAU,SITxBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEF1D,SAAS2D,eAAe,U","file":"static/js/main.0c405ea3.chunk.js","sourcesContent":["import React from 'react'\nimport './App.css'\nimport { JobSearch } from './JobSearch'\n\nconst jobSearch = new JobSearch(\n  '#search-form',\n  '.result-container',\n  '.loading-element'\n)\njobSearch.setCountryCode()\njobSearch.configureFormListener()\n\nfunction App() {\n  return <div className='App'></div>\n}\n\nexport default App\n","import { jobTemplate } from './Templates.js';\nimport { extractFormData, getCurrencySymbol } from './Utils.js';\n\n\nexport class JobSearch {\n\n  constructor(searchFormSelector, resultsContainerSelector, loadingElementSelector) {\n    this.searchForm = document.querySelector(searchFormSelector);\n    this.resultsContainer = document.querySelector(resultsContainerSelector);\n    this.loadingElement = document.querySelector(loadingElementSelector);\n  }\n\n  setCountryCode() {\n    this.countryCode = 'gb';\n    this.setCurrencySymbol();\n\n    fetch('http://ip-api.com/json')\n      .then(results => results.json())\n      .then(results => {\n        this.countryCode = results.countryCode.toLowerCase();\n        this.setCurrencySymbol();\n      });\n  }\n\n  setCurrencySymbol() {\n    this.currencySymbol = getCurrencySymbol(this.countryCode);\n  }\n\n  configureFormListener() {\n    this.searchForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    this.resultsContainer.innerHTML = '';\n    const { search, location, distance, min, max } = extractFormData(this.searchForm);\n\n    this.startLoading();\n    fetch(`https://api.adzuna.com/v1/api/jobs/gb/search/2?app_id=fe8c748e&app_key=20c3e73a59479724e90591efe9cdfa7d&results_per_page=10000&what=${search}&where=${location}&distance=${distance}&sort_by=salary&salary_min=${min}&salary_max=${max}`)\n      .then(response => response.json())\n      .then(({ results }) => {\n        this.stopLoading();\n        return results\n          .map(job => jobTemplate(job, this.currencySymbol))\n          .join('');\n      })\n      .then(jobs => this.resultsContainer.innerHTML = jobs)\n      .catch(() => this.stopLoading());\n    });\n  }\n\n  startLoading() {\n    this.loadingElement.classList.add('loading');\n  }\n\n  stopLoading() {\n    this.loadingElement.classList.remove('loading');\n  }\n}\n","export const extractFormData = form => Array\n    .from(form.elements)\n    .reduce((acc, { id, value }) => ({ [id]: value, ...acc }), {});\n\nexport const getCurrencySymbol = country => {\n    const currencies = {\n        gb: 'Â£',\n        us: '$',\n        au: '$',\n        ca: '$',\n    };\n    return currencies[country];\n}\n","export const jobTemplate = (job, currency) => `\n  <div class=\"card\">\n  <h4 class=\"animated fadeIn job-title\">${job.title} up to ${currency}${job.salary_max}</h4>\n  <p class=\"animated fadeIn company\">${job.company.display_name}</p>\n  <h5 class=\"animated fadeIn job-location\">${job.location.display_name}</h5>\n  <p class=\"animated fadeIn job-description\">${job.description}</p>\n  <a class=\"animated fadeIn view-job\" href=\"${job.redirect_url}\" target=\"_blank\">View Job</a>\n  \n  <button class=\"top\" onclick='window.scrollTo({top: 0, behavior: \"smooth\"});'>Jump to the top</button>\n  </div>\n`\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}